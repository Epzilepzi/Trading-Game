<!DOCTYPE html>
<html>
    <head>
        <title>Spree</title>
        <meta charset="utf-8" />
        <link rel=stylesheet type="text/css" href="css/game.css">
        <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="fallback/jquery.3.3.1.min.js"><\/script>')</script>
        <!-- <script src="js/pace.min.js"></script> -->
        <script>
                $(document).ready (
                    function () {
                        console.log("jQuery loaded.");
                    }
                )
        </script>
        <script src="js/audio.js"></script>
        <script>if (window.module) module = window.module;</script>
        <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0">
    </head>
    <body>
        <!-- Redundant <script src="js/style.js"></script> -->
        <script src="js/intro.js"></script>
        <script src="js/game.js"></script>
        <script src="js/menu.js"></script>
        <script>
                $(document).ready (
                    function () {
                        console.log("Game loaded!");
                    }
                )
        </script>
        <div id="intro" class="titleScreen">
            <audio id="introMusic" src="audio/intromusic.mp3" hidden="true" loop></audio>
            <div id="titleScreen-content">
                <h1>Spree</h1>
                <button id="playButton" onclick="closeIntro()">Play</button>
            </div>
            <div id="titleSubtitle">
                <button id="muteButton" onclick="toggleMute()">Toggle Music</button>
                <p>&copy; 2018 Yeetmeister</p>
            </div>
        </div>

        <div id="mainMenu">
            <h1>Select Town</h1>
            <div id="item">
                <h2>Flavourtown</h2>
                <p>Population: 46k</p>
                <p>Item Specialty: Foodstuff</p>
                <img src="images/burger.png" />
                <br>
                <button onclick="visitTown('flavourtown')">Go to Town</button>
                <br>
            </div>

            <div id="item">
                <h2>Meme Valley</h2>
                <p>Population: 14k</p>
                <p>Item Specialty: Dead memes</p>
                <img src="images/monobank.png" />
                <br>
                <button onclick="visitTown('meme')">Go to Town</button>
                <br>
            </div>

            <div id="footer">
                <button id="muteButton" onclick="toggleMute()">Toggle Music</button>
            </div>
        </div>

        <div id="body">
            <div id="navbar">
                <div id="valueBar">
                    <div id="debt">
                        <p id="valueText3">Debt: <span id="debt-cost">0</span> updoots</p>
                    </div>
                    <div id="moneyz">
                        <p id="valueText1">Moneyz: <span id="gold">100</span> updoots</p>
                    </div>

                    <div id="happyz">
                        <p id="valueText2">Happyz: <span id="happyzValue">100</span> karma</p>
                    </div>
                </div>
            
                <div id="earn">
                    <div id="earnLeft">
                        <button id="bank" class="navbarButtons">Visit Bank</button>
                    </div>

                    <div id="earnCenter">
                        <button id="earnButton" class="navbarButtons" onclick="earnMoneyz()">Earn Moneyz!!!!!1</button>
                    </div>

                    <div id="earnRight">
                        <button id="menuButton">Open Menu</button>
                    </div>
                    <audio id="moneyz-sound" src="audio/volume.mp3" hidden="true"></audio>
                </div>
            </div>

            <div id="bankPanel">
                <h1>MonoBank</h1>
                <div id="borrowButton">
                    <button id="borrow">Borrow Money</button>
                    <div id="borrowForm">
                        <form action="javascript:void(0);" onsubmit="borrowMoneyz()">
                                Enter amount to borrow:<br>
                                <input type="number" id="borrowInput" name="borrow" value="200">
                                <br>
                                <input type="submit" value="Borrow">
                                <button id="borrowMax" class="submitButton" type="button" onclick="borrowMoneyzMax()">Borrow Max Amount</button>
                                <br>
                                <span class="subtitle">You may only borrow up to <span id="borrowCalc">100</span> more updoots than your karma.</span>
                                <br>
                                <span class="subtitle">The current interest rate is 1.2% per day.</span>
                        </form>  
                    </div>
                </div>

                <div id="bankLogo">
                    <img src="images/monobank.png" />
                    <p>We swear we won't steal from your student account.</p>
                </div>

                <div id="repayButton">
                    <button id="repay">Repay Debt</button>
                    <div id="repayForm">
                        <form action="javascript:void(0);" onsubmit="repayMoneyz()">
                                Enter amount to repay:<br>
                                <input type="number" id="repayInput" name="repay" value="200">
                                <br>
                                <button id="repayMax" class="submitButton" type="button" onclick="repayAll()">Repay All Debt</button>
                                <input type="submit" value="Repay">
                        </form>  
                    </div>
                </div>
            </div>

            <div id="menuFeatures">
                <h1>Menu</h1>
                <button onclick="backToMenu()">Change Town</button><button onclick="showDebtAlert()">Alert Test</button><button>Test3</button>
            </div>

            <div id="alert">
                <div id="alertbg"></div>
                <audio id="error-sound" src="audio/error.wav" hidden="true"></audio>
                <div id="moneyzAlert" class="alert">
                    <h1>Error</h1>
                    <p>You need more <span id="moreUpdoot">0</span> more updoots!</p>
                    <button class="alertbtn" onclick="closeMoneyzAlert()">Okay</button>
                </div>

                <div id="noDebtAlert" class="alert">
                    <h1>Error</h1>
                    <p>You only have a debt of <span id="debtAlertValue">0</span> updoots!</p>
                    <button class="alertbtn" onclick="payRemainingDebt()">Pay off debt</button>
                    <button class="alertbtn" onclick="closeDebtAlert()">Okay</button>
                </div>

                <div id="nilDebtAlert" class="alert">
                    <h1>Error</h1>
                    <p>You don't have any debt!</p>
                    <button class="alertbtn" onclick="closeNilDebt()">Okay</button>
                </div>

                <div id="repayDebtAlert" class="alert">
                    <h1>Error</h1>
                    <p>You have reached your borrow limit!</p>
                    <button clas="alertbtn" onclick="closeRepayDebt()">Okay</button>
                </div>

                <div id="startWork" class="alert">
                    <h1>Error</h1>
                    <p>Your company doesn't want to pay you anymore! Start trading to earn more moneyz!</p>
                    <button class="alertbtn" onclick="closeWorkAlert()">Okay</button>
                </div>
            </div>

            <div id="content">
                <audio id="bgmusic" loop>
                    <source src="audio/intromusic.mp3" hidden="true">
                </audio>
                <div id="flavourtown">
                    <audio id="sellSound" src="audio/sell.wav" hidden="true"></audio>

                    <h1>Flavourtown</h1>

                    <div id="item">
                        <h2>Coffee</h2>
                        <p>Amount: <span id="coffee">0</span></p>
                        <p>Cost: <span id="coffee-cost">10</span> updoots</p>
                        <p>Happyz: <span id="coffee-happyz">7</span></p>
                        <img src="images/coffee.png" alt="coffee"/>
                        <br>
                        <button onclick="buy('coffee');">Buy</button>
                        <button onclick="sell('coffee');">Sell</button>
                        <audio id="coffee-sound" src="audio/slurp.wav"></audio>
                    </div>

                    <div id="item">
                        <h2>Pizza</h2>
                        <p>Amount: <span id="pizza">0</span></p>
                        <p>Cost: <span id="pizza-cost">35</span> updoots</p>
                        <p>Happyz: <span id="pizza-happyz">21</span></p>
                        <img src="images/pizza.png" alt="pizza"/>
                        <br>
                        <button onclick="buy('pizza')">Buy</button>
                        <button onclick="sell('pizza');">Sell</button>
                        <audio id="pizza-sound" src="audio/pizza.mp3"></audio>
                    </div>

                    <div id="item">
                        <h2>Tea</h2>
                        <p>Amount: <span id="tea">0</span></p>
                        <p>Cost: <span id="tea-cost">8</span> updoots</p>
                        <p>Happyz: <span id="tea-happyz">6</span></p>
                        <img src="images/tea.png" alt="tea"/>
                        <br>
                        <button onclick="buy('tea');">Buy</button>
                        <button onclick="sell('tea');">Sell</button>
                        <audio id="tea-sound" src="audio/slurp.wav"></audio>
                    </div>

                    <div id="item">
                        <h2>Burger</h2>
                        <p>Amount: <span id="burger">0</span></p>
                        <p>Cost: <span id="burger-cost">30</span> updoots</p>
                        <p>Happyz: <span id="burger-happyz">14</span></p>
                        <img src="images/burger.png" alt="burger"/>
                        <br>
                        <button onclick="buy('burger')">Buy</button>
                        <button onclick="sell('burger');">Sell</button>
                        <audio id="burger-sound" src="audio/chezburgers.mp3"></audio>
                    </div>
                </div>

                <div id="meme">
                        <audio id="sellSound" src="audio/sell.wav" hidden="true"></audio>
    
                        <h1>Meme Valley</h1>
    
                        <div id="item">
                            <h2>Spoderman</h2>
                            <p>Amount: <span id="spoder">0</span></p>
                            <p>Cost: <span id="spoder-cost">39</span> updoots</p>
                            <p>Happyz: <span id="spoder-happyz">20</span></p>
                            <img src="images/spoder.jpg" alt="spoder"/>
                            <br>
                            <button onclick="buy('spoder')">Buy</button>
                            <button onclick="sell('spoder');">Sell</button>
                            <audio id="spoder-sound" src="audio/spoder.mp3"></audio>
                        </div>
                        
                        <div id="item">
                            <h2>Pepe</h2>
                            <p>Amount: <span id="pepe">0</span></p>
                            <p>Cost: <span id="pepe-cost">69</span> updoots</p>
                            <p>Happyz: <span id="pepe-happyz">69</span></p>
                            <img src="images/pepe.jpg" alt="pepe"/>
                            <br>
                            <button onclick="buy('pepe')">Buy</button>
                            <button onclick="sell('pepe');">Sell</button>
                            <audio id="pepe-sound" src="audio/pepe.mp3"></audio>
                        </div>
                            
                        <div id="item">
                            <h2>Doge</h2>
                            <p>Amount: <span id="doge">0</span></p>
                            <p>Cost: <span id="doge-cost">41</span> updoots</p>
                            <p>Happyz: <span id="doge-happyz">83</span></p>
                            <img src="images/doge.jpg" alt="doge"/>
                            <br>
                            <button onclick="buy('doge')">Buy</button>
                            <button onclick="sell('doge');">Sell</button>
                            <audio id="doge-sound" src="audio/doge.mp3"></audio>
                        </div>
    
                        <div id="item">
                            <h2>Kazoo</h2>
                            <p>Amount: <span id="kazoo">0</span></p>
                            <p>Cost: <span id="kazoo-cost">54</span> updoots</p>
                            <p>Happyz: <span id="kazoo-happyz">72</span></p>
                            <img src="images/kazoo.jpeg" alt="kazoo"/>
                            <br>
                            <button onclick="buy('kazoo')">Buy</button>
                            <button onclick="sell('kazoo');">Sell</button>
                            <audio id="kazoo-sound" src="audio/kazoo.mp3"></audio>
                        </div>
                    </div>
            </div>
            <div id="footerButtons">
                <a href="https://www.paypal.me/ltg1337" target="_blank"><button class="redbtn">Donate</button></a>
            </div>
            <div id="footer" class="main">
                    <button id="muteButton" onclick="toggleMute()">Toggle Music</button>
                    <p style="color:white;">Version: <span id="version">v0.3.4-alpha</span></p>
            </div>
            <div id="footerButtons">
               <button class="redbtn">Dev Features</button>
            </div>
        </div>
    </body>
</html>